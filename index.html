<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="main.css">
</head>

<style>



</style>


<img src="https://i.gifer.com/Fw3P.gif" alt="My GIF" width="100" height="100" id="coin">
<img src="https://static.wikia.nocookie.net/clashofclans/images/b/b9/Gold_Mine13.png/revision/latest?cb=20181023115050" alt="My GIF" width="100" height="100" id="gm">
<body>

<p id="pocet">Value: <span id="value">0</span></p>
<p id="infogm">Onlock for <br>1000 coins</p>
<p id="level">Level: <span id="level-value"></span> <br> Price: <span id="price"></span></p>

<button id="add" onclick="pridej()">+</button>
<button id="gmunlock" onclick="upgrade();odemknigm();"></button>




<script>

  let count = 0;
  var gm = 0;
  var lvl = 0;
  var price = 2000;
function pridej() {
  count +=1000;
  document.getElementById("value").innerHTML = count;
}

function goldmine() {

	if (gm > 0) {
	count += lvl;
  document.getElementById("value").innerHTML = count;

   }
}

setInterval(goldmine, 1000);

function upgrade(){

if (gm == 1 && count > price){
count -=price;
lvl++;
price +=1000;

document.getElementById("level-value").innerHTML = lvl;
document.getElementById("price").innerHTML = price;

console.log(lvl);

}

 }


function odemknigm()
{

	if (count >= 1000 && gm == 0) {
gm ++;
count -=1000;
lvl++;
document.getElementById("price").innerHTML = "2000";
document.getElementById("gmunlock").style.backgroundImage = "url(https://e7.pngegg.com/pngimages/708/355/png-clipart-green-arrow-upgrade-button-trademark-logo.png)";

document.getElementById("infogm").innerHTML = "Production: <br> <span id=level-value> </span> per second";
document.getElementById("level-value").innerHTML = lvl; 
console.log("gm =", gm);
	console.log("odemkni function called");
	}

}






</script>

</body>
</html>