<html>
<head>
  <title>HRA NA MOBIL</title>
  <link rel="stylesheet"  href="style.css">
</head>

<style>
  
</style>

<body>
  <button id="red" onclick="randombarvaRED();"></button>
  <button id="blue" onclick="randombarvaBLUE();"></button>
  <button id="yellow"onclick="randombarvaYELLOW();"></button>
  <button id="green" onclick="randombarvaGREEN();"></button>
  <button id="guess"></button>
  <button id="start" onclick="startTimer();randombarva();">Start</button>
  <button id="reset" onclick="restart();">Restart</button>
  <p id="casovac"> Čas: 30s</p>
  <p id="skore"> Skore: 0</p>
  <script>
    var cas = 30;
    var intervalId;
    var score = 0;
    var cink = new Audio ("https://cdn.pixabay.com/download/audio/2022/01/18/audio_8db1f1b5a5.mp3?filename=snd_fragment_retrievewav-14728.mp3");
     function startTimer() {
      // Check if the interval is already running
      if (!intervalId && cas == 30) {
        intervalId = setInterval(() => {
          cas--;
          document.getElementById("casovac").innerHTML = "Čas: " + cas + "s";

          if (cas === 0) {
            clearInterval(intervalId);
            intervalId = null;
          }
        }, 1000);
      }
    }


function randombarva(){
  const guess = document.getElementById("guess");
  const colors = ["blue", "red", "yellow", "green"];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  guess.style.backgroundColor = randomColor;
}


function randombarvaRED() {

  // Make sure that the guess and skore variables are defined and have the correct values
  const colors = ["blue", "red", "yellow", "green"];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  const guess = document.getElementById("guess");
  const skore = document.getElementById("skore");

  // Get the computed style of the guess button
  const style = window.getComputedStyle(guess);

  // Get the value of the background-color property
  const backgroundColor = style.getPropertyValue("background-color");

  // Compare the background color to the RGB value of red
  if (backgroundColor === "rgb(255, 0, 0)" && cas > 0 && cas < 30 ) {
    score++;
    skore.innerHTML = `Skore: ${score}`;
guess.style.backgroundColor = randomColor;
cink.play();
cink.currentTime = 0;
  } 
}


function randombarvaBLUE() {
  // Make sure that the guess and skore variables are defined and have the correct values
  const colors = ["blue", "red", "yellow", "green"];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  const guess = document.getElementById("guess");
  const skore = document.getElementById("skore");

  // Get the computed style of the guess button
  const style = window.getComputedStyle(guess);

  // Get the value of the background-color property
  const backgroundColor = style.getPropertyValue("background-color");

  // Compare the background color to the RGB value of red
  if (backgroundColor === "rgb(0, 0, 255)" && cas > 0 && cas > 0 ) {
    score++;
    skore.innerHTML = `Skore: ${score}`;
guess.style.backgroundColor = randomColor;
cink.play();
cink.currentTime = 0;
  } 
}


function randombarvaYELLOW() {
  // Make sure that the guess and skore variables are defined and have the correct values
  const colors = ["blue", "red", "yellow", "green"];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  const guess = document.getElementById("guess");
  const skore = document.getElementById("skore");

  // Get the computed style of the guess button
  const style = window.getComputedStyle(guess);

  // Get the value of the background-color property
  const backgroundColor = style.getPropertyValue("background-color");

  // Compare the background color to the RGB value of red
  if (backgroundColor === "rgb(255, 255, 0)" && cas > 0 && cas > 0 ) {
    score++;
    skore.innerHTML = `Skore: ${score}`;
guess.style.backgroundColor = randomColor;
cink.play();
cink.currentTime = 0;
  } 
}

function randombarvaGREEN() {
  // Make sure that the guess and skore variables are defined and have the correct values
  const colors = ["blue", "red", "yellow", "green"];
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  const guess = document.getElementById("guess");
  const skore = document.getElementById("skore");

  // Get the computed style of the guess button
  const style = window.getComputedStyle(guess);

  // Get the value of the background-color property
  const backgroundColor = style.getPropertyValue("background-color");

  // Compare the background color to the RGB value of red
  if (backgroundColor === "rgb(0, 128, 0)" && cas > 0 && cas > 0 ) {
    score++;
    skore.innerHTML = `Skore: ${score}`;
guess.style.backgroundColor = randomColor;
cink.play();
cink.currentTime = 0;
  } 
}

function restart(){
if (cas == 0){
cas =+ 30;
score = 0;
skore.innerHTML = `Skore: ${score}`;
document.getElementById("casovac").innerHTML = "Čas: " + cas + "s";
}
}

  </script>
</body>

</html>
